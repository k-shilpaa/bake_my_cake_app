<app-nav-bar></app-nav-bar>
<div class="shipping-page">
  <div *ngIf="cart" class="cart-container">
    <div class="cart-items">
      <mat-card *ngFor="let item of cart.items" class="cart-item">
        <div class="cart-item-details">
          <img
            mat-card-image
            id="picture"
            src="../../assets/images/{{ item.image }}.jpg"
          /><br />
          <div class="cart-data">
            <strong>Product Name:</strong>{{ item.name }} <br />
            <strong>Quantity:</strong> {{ item.quantity }} <br />
            <strong>Price:</strong> {{ item.price }} <br />
          </div>
        </div>
        <hr />
      </mat-card>
    </div>
    <div class="cart-total">
      <strong>Total: {{ cart.subtotal }}</strong>
    </div>
  </div>

  <div class="order-form">
    <h2>Enter shipping Details</h2>
    <form [formGroup]="shippingForm" (ngSubmit)="addShipping(shippingForm)">
      <div>
        <mat-form-field class="full-width" appearance="fill">
          <input matInput formControlName="fullName" placeholder="fullName">
          <mat-error *ngIf="fullName?.errors?.['required']">First Name is required</mat-error>
          <mat-error *ngIf="fullName?.errors?.['minlength']">First Name should be at least 4 characters long</mat-error>
          <mat-error *ngIf="fullName?.errors?.['pattern']">Name can not be a number</mat-error>
        </mat-form-field>
      </div>
      <div>
       
        <mat-form-field class="full-width" appearance="fill">
          <input matInput formControlName="address" placeholder="address">
          <mat-error *ngIf="address?.errors?.['required']">address required </mat-error>
          
        </mat-form-field>
      </div>

      <div>
        <mat-form-field class="full-width" appearance="fill">
          <input matInput formControlName="city" placeholder="city">
          <mat-error *ngIf="city?.errors?.['required']">zip code required </mat-error>
         
        </mat-form-field>

      </div>
      <div>
        <mat-form-field class="full-width" appearance="fill">
          <input matInput formControlName="state" placeholder="state">
          <mat-error *ngIf="state?.errors?.['required']">state required </mat-error>
          
        </mat-form-field>
      </div>
      <div>
        <mat-form-field class="full-width" appearance="fill">
          <input matInput formControlName="pincode" placeholder="pincode">
          <mat-error *ngIf="pincode?.errors?.['required']">pin code required </mat-error>
          <mat-error *ngIf="pincode?.errors?.['pattern']">Invalid pin code (should be 5 or 6 digits)</mat-error>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field class="full-width" appearance="fill">
          <input matInput formControlName="phoneNumber" placeholder="Phone (e.g., 1234567890)">
          <mat-error *ngIf="phoneNumber?.errors?.['pattern']">Invalid phone number (should start with 7, 8, or 9 and be 10 digits long)</mat-error>
        </mat-form-field>
      </div>
      <button type="submit" [disabled]="shippingForm.invalid">Place Order</button>
    </form>
  </div>
</div>

